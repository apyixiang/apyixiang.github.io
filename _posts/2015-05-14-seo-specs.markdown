---
layout: post
title: "从SEO专业的角度谈网站规范:内容思维导图,元信息,页面单元测试,蜘蛛日志监控"
date: 2015-05-14 11:02
comments: true
categories: seo
tags: [SEO]
---

SEO最严重的问题,往往不是SEO问题,而是产品问题,或技术问题.我接手的项目中,几乎每次大改版都会更换一套URL pattern,而且每个版本之间也许并没有映射关系,也许有映射关系也忘了做301.稍微懂一点搜索引擎常识的人应该明白,每经历一次这种改版就是一次灭顶之灾.我问过一个产品经理,这个产品的URL换过多少套pattern? 答曰:不是3就是4.我从web.archive.org上看,最少8个.并且最新版同时存在了3种不同的pattern.在产品,技术和测试的思维中,往往是没有URL的清晰定义的,只要页面能访问,内容是对的就合格了,更不要提SEO的其他基本规范了.也就是说,事实上除了SEO没有人关心这些东西,每个开发环节都可能遗漏或者搞错一些东西.我希望能有个系统自动的帮我梳理这些问题,让我不再每天担忧SEO的需求又不知道被谁弄掉了,让提bug擦屁股的事情不再占用我太多时间.鉴于此,我的解决方案是:内容思维导图,元信息,页面单元测试,蜘蛛日志监控.这些方案5年前就构思好了,并且小规模试用,但是由于复杂度较高,到过很多坑.绝对不适用于小公司,请广大SEO从业者慎重.

##内容思维导图

从产品的角度看是这样由各类功能组成的,有合理流程关系的(流程不展开讨论),符合用户体验的,但可能不符合搜索引擎体验:
![产品思维导图]({{ site.url }}/images/seo-specs-pm-mindmap.png)


从SEO的角度看,某网站的结构是这样由各类用户搜索需求组成的,也是有合理层级关系的:
![SEO内容思维导图]({{ site.url }}/images/seo-specs-mindmap.png)
不同的网站会有截然不同的思维导图,因为他可能基本取决于技术架构.因此建议SEO从业者深入了解网站的技术架构之后再来绘制导图.具体的细节暂不展开.但是最起码自己要清楚网站有哪些内容节点,哪些命中了用户的需求,哪些是毫无检索意义的,缺少哪些节点,应该如何部署层级关系.



##元信息

我这里说的不是<meta>, 而是一切SEO相关的,有规律的(最好是可以用正则表达的),可量化的信息.包括:标题,关键词,描述,H1,等等.

从SEO的角度看,某网站的URL是这样的,符合"思维导图"层次的:
* 首页: www.example.com/
* 首页-频道1: www.example.com/channel/
* 首页-频道1-维度1: www.example.com/channel/abc/
* 首页-频道1-维度1-维度2: www.example.com/channel/abc/xyz/
* 首页-频道1-详细页: www.example.com/channel/item12345/

从产品,开发,测试的角度看URL可能是这样无序的:
* www.example.com/channel/?category=abc&brand=xyz&tracking=other_website
* www.example.com/channel/?item=12345

如果下一版改成这样也没问题的:
www.example.com/?channel=123&category=abc&brand=def&tracking=other_website

如果没有清晰的规则定义,几乎是无法知道现在的网站还是不是你优化过的那个样子的.
根据SEO内容思维导图,我们得到如下的元信息表格(仅列出几个字段给大家参考):
![元信息]({{ site.url }}/images/seo-specs-pattern.png)

##页面单元测试


这个"单元测试"是借用了一个研发的术语,原本是测试某一个函数或类的.我是用来测试SEO的一个具体的细节定义.工具也是借用了"Rspec"来二次开发的.这个模块可以分为两个环境来运行,生产环境和测试环境.

其中生产环境的测试,我们叫"回归测试",目的是保证之前已经上线的SEO需求,依然好好的呆在那里,如果报警需要及时修复.

测试环境中测试的结果,是为了给研发人员做类似TDD(基于测试的开发)用的.他可以被当做是需求文档,只要研发人员把这个测试都跑通,就说明你的需求完成了.当这些需求上线后,把测试合并到生产环境一起做回归测试,这样就圆满了.

测试的内容可以涵盖:元信息中的所有细节,已知链接的锚文本, 站内URL, 站外URL, 面包屑, alt, 响应时间, 页面尺寸,等等.

##蜘蛛日志监控

有了"元信息"的定义.做蜘蛛日志监控易如反掌.在百度举办的活动上,有不少的站长会向百度工作人员提出一些根本无法回答的问题: 收录掉了, 抓取掉了, 收录不及时,等等.而从来不会说,"我的某某类型页面每天抓取量多少,其中response200的有多少,平均响应时间是多少,response301的......response4xx的......response5xx的......但是最近收录/抓取掉了"

亲身经历的一些现象:
1. 全站85%的访问,response code都是301.
2. 蜘蛛抓取量的50%都是抓异步请求(ajax,iframe)的URL.
3. 某些类别的页面平均响应时间超过10秒/次.

附图仅展示一些字段给大家做参考
![蜘蛛日志监控报告]({{ site.url }}/images/seo-specs-log.png)